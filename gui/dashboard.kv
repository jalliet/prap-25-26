#:kivy 2.0.0

<PokerDashboard>:
    orientation: 'horizontal'
    canvas.before:
        Color:
            rgba: 0, 0, 0, 1  # Black background
        Rectangle:
            pos: self.pos
            size: self.size
        Color:
            rgba: 1, 1, 1, 1  # White border
        Line:
            rectangle: self.x, self.y, self.width, self.height
            width: 2

    # --- LEFT PANEL: GAME STATE ---
    BoxLayout:
        orientation: 'vertical'
        size_hint_x: 0.3
        padding: 20
        spacing: 10
        canvas.after:
            Color:
                rgba: 1, 1, 1, 1  # White separator line
            Line:
                points: [self.right, self.y, self.right, self.top]
                width: 1

        Label:
            text: "GAME STATE"
            font_size: '32sp'
            font_name: 'Roboto'  # Default Kivy font, clean enough
            color: 1, 1, 1, 1
            size_hint_y: None
            height: 60
            text_size: self.size
            halign: 'left'
            valign: 'middle'

        # Placeholder lines visualization (simulating the image)
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: 100
            spacing: 15
            padding: [0, 20, 0, 0]
            
            Widget: # Line 1
                size_hint_y: None
                height: 2
                canvas:
                    Color:
                        rgba: 1, 1, 1, 1
                    Line:
                        points: [self.x, self.y, self.x + 150, self.y]
                        width: 1.5
            Widget: # Line 2
                size_hint_y: None
                height: 2
                canvas:
                    Color:
                        rgba: 1, 1, 1, 1
                    Line:
                        points: [self.x, self.y, self.x + 100, self.y]
                        width: 1.5
            Widget: # Line 3
                size_hint_y: None
                height: 2
                canvas:
                    Color:
                        rgba: 1, 1, 1, 1
                    Line:
                        points: [self.x, self.y, self.x + 120, self.y]
                        width: 1.5

        # Actual Info Content (from Plan)
        Label:
            text: "Community Cards: [ ] [ ] [ ] [ ] [ ]"
            size_hint_y: None
            height: 40
            text_size: self.size
            halign: 'left'

        Label:
            text: "Pot: $0"
            font_size: '24sp'
            size_hint_y: None
            height: 50
            text_size: self.size
            halign: 'left'

        Label:
            text: "Players:"
            size_hint_y: None
            height: 30
            text_size: self.size
            halign: 'left'

        ScrollView:
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                spacing: 5
                
                Label:
                    text: "Player 1: $1000 (Active)"
                    size_hint_y: None
                    height: 30
                    text_size: self.size
                    halign: 'left'
                Label:
                    text: "Player 2: $1000 (Folded)"
                    size_hint_y: None
                    height: 30
                    text_size: self.size
                    halign: 'left'
                Label:
                    text: "Player 3: $1000 (Active)"
                    size_hint_y: None
                    height: 30
                    text_size: self.size
                    halign: 'left'
                Label:
                    text: "Player 4: $1000 (Active)"
                    size_hint_y: None
                    height: 30
                    text_size: self.size
                    halign: 'left'

        Label:
            text: "Log:"
            size_hint_y: None
            height: 30
            text_size: self.size
            halign: 'left'

        TextInput:
            text: "Game started...\nWaiting for players..."
            readonly: True
            background_color: 0.1, 0.1, 0.1, 1
            foreground_color: 0.8, 0.8, 0.8, 1
            size_hint_y: 0.3

    # --- RIGHT PANEL: BIRDS EYE CAMERA FEED ---
    FloatLayout:
        size_hint_x: 0.7
        
        # Heading
        Label:
            text: "BIRDS EYE CAMERA FEED"
            color: 0.13, 0.59, 0.95, 1  # Blue
            font_size: '28sp'
            pos_hint: {'center_x': 0.5, 'top': 0.98}
            size_hint: (None, None)
            size: (400, 50)

        # Center Text
        BoxLayout:
            orientation: 'vertical'
            pos_hint: {'center_x': 0.5, 'center_y': 0.7}
            size_hint: (None, None)
            size: (300, 150)
            Label:
                text: "ROBOT"
                color: 0.96, 0.26, 0.21, 1 # Red
                font_size: '36sp'
            Label:
                text: "POKER"
                color: 0.96, 0.26, 0.21, 1
                font_size: '36sp'
            Label:
                text: "DEALER"
                color: 0.96, 0.26, 0.21, 1
                font_size: '36sp'

        # Player Chips (Yellow Sticky Notes)
        Label:
            text: "P1 chips"
            color: 1, 0.92, 0.23, 1 # Yellow
            pos_hint: {'center_x': 0.35, 'center_y': 0.5}
            canvas.before:
                Color:
                    rgba: 1, 0.92, 0.23, 1
                Line:
                    rectangle: self.x, self.y, self.width, self.height
                    width: 1.5
            size_hint: (None, None)
            size: (80, 60)

        Label:
            text: "P2 chips"
            color: 1, 0.92, 0.23, 1
            pos_hint: {'center_x': 0.45, 'center_y': 0.5}
            canvas.before:
                Color:
                    rgba: 1, 0.92, 0.23, 1
                Line:
                    rectangle: self.x, self.y, self.width, self.height
                    width: 1.5
            size_hint: (None, None)
            size: (80, 60)
            
        Label:
            text: "P3 chips"
            color: 1, 0.92, 0.23, 1
            pos_hint: {'center_x': 0.55, 'center_y': 0.5}
            canvas.before:
                Color:
                    rgba: 1, 0.92, 0.23, 1
                Line:
                    rectangle: self.x, self.y, self.width, self.height
                    width: 1.5
            size_hint: (None, None)
            size: (80, 60)

        Label:
            text: "P4 chips"
            color: 1, 0.92, 0.23, 1
            pos_hint: {'center_x': 0.65, 'center_y': 0.55} # Slightly higher like image
            canvas.before:
                Color:
                    rgba: 1, 0.92, 0.23, 1
                Line:
                    rectangle: self.x, self.y, self.width, self.height
                    width: 1.5
            size_hint: (None, None)
            size: (80, 60)

        # Player Cards (Green Rectangles)
        # Arranged in an arc/fan shape roughly
        
        # P1 Cards
        Label:
            text: "Player 1\nCard"
            color: 0.3, 0.69, 0.31, 1 # Green
            pos_hint: {'center_x': 0.25, 'center_y': 0.3}
            canvas.before:
                Color:
                    rgba: 0.3, 0.69, 0.31, 1
                Line:
                    rectangle: self.x, self.y, self.width, self.height
                    width: 1.5
            size_hint: (None, None)
            size: (100, 140)
            
        # P2 Cards
        Label:
            text: "Player 2\ncards"
            color: 0.3, 0.69, 0.31, 1
            pos_hint: {'center_x': 0.40, 'center_y': 0.25}
            canvas.before:
                Color:
                    rgba: 0.3, 0.69, 0.31, 1
                Line:
                    rectangle: self.x, self.y, self.width, self.height
                    width: 1.5
            size_hint: (None, None)
            size: (100, 140)

        # P3 Cards
        Label:
            text: "Player 3\ncards"
            color: 0.3, 0.69, 0.31, 1
            pos_hint: {'center_x': 0.60, 'center_y': 0.25}
            canvas.before:
                Color:
                    rgba: 0.3, 0.69, 0.31, 1
                Line:
                    rectangle: self.x, self.y, self.width, self.height
                    width: 1.5
            size_hint: (None, None)
            size: (100, 140)

        # P4 Cards
        Label:
            text: "Player 4\ncards"
            color: 0.3, 0.69, 0.31, 1
            pos_hint: {'center_x': 0.75, 'center_y': 0.3}
            canvas.before:
                Color:
                    rgba: 0.3, 0.69, 0.31, 1
                Line:
                    rectangle: self.x, self.y, self.width, self.height
                    width: 1.5
            size_hint: (None, None)
            size: (100, 140)
